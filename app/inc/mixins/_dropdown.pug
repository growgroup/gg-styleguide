//- ドロップダウン
//- hoverで展開（デフォルト）: +c_dropdown("トリガー", "/format/", {link: "/a/", title: "項目A"}, {link: "/b/", title: "項目B"})
//- clickで展開: +c_dropdown("トリガー", "/format/", {link: "/a/", title: "項目A"}, {link: "/b/", title: "項目B"}, {event: "click", animation: "slide"})
mixin c_dropdown(triggerText, triggerHref, ...rest)
  -
    var opts = { event: null, animation: null };
    var dataItems = rest.filter(function(it) { return it && it.link !== undefined && it.title !== undefined; });
    var optObj = rest.find(function(it) { return it && (it.event !== undefined || it.animation !== undefined) && !it.link; });
    if (optObj) {
      opts.event = optObj.event || null;
      opts.animation = optObj.animation || null;
    }
    triggerHref = triggerHref || "#";
  .c-dropdown.js-dropdown(
    data-dropdown-event=opts.event || undefined
    data-dropdown-animation=opts.animation || undefined
  )
    +a(triggerHref).c-dropdown__trigger(data-dropdown-trigger="trigger")= triggerText
    .c-dropdown__content(data-dropdown-target="target")
      ul.c-dropdown__list
        each item in dataItems
          li.c-dropdown__item
            +a(item.link).c-dropdown__link= item.title
